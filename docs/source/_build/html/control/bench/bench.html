

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Benchmarks &mdash; Machine Learning Control 0.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/modify.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Hardware" href="../../hardware/hardware.html" />
    <link rel="prev" title="Plotting Results" href="../plotting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">MLC package</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Modeling</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modeling/modeling.html">Modeling</a></li>
</ul>
<p class="caption"><span class="caption-text">Control</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../control.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running.html">Running Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saving_and_loading.html">Experiment Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plotting.html">Plotting Results</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Benchmarks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#performance-in-each-environment">Performance in Each Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mujoco-environments">Mujoco Environments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#halfcheetah-pytorch-versions">HalfCheetah: PyTorch Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#halfcheetah-tensorflow-versions">HalfCheetah: Tensorflow Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hopper-pytorch-versions">Hopper: PyTorch Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hopper-tensorflow-versions">Hopper: Tensorflow Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#walker2d-pytorch-versions">Walker2d: PyTorch Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#walker2d-tensorflow-versions">Walker2d: Tensorflow Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#swimmer-pytorch-versions">Swimmer: PyTorch Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#swimmer-tensorflow-versions">Swimmer: Tensorflow Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ant-pytorch-versions">Ant: PyTorch Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ant-tensorflow-versions">Ant: Tensorflow Versions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#simzoo-environments">Simzoo Environments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#oscillator-tensorflow-versions">Oscillator: Tensorflow Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Oscillator: Tensorflow Versions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#experiment-details">Experiment Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pytorch-vs-tensorflow">PyTorch vs Tensorflow</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Hardware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/supported.html">Supported hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/deploy.html">Deploy</a></li>
</ul>
<p class="caption"><span class="caption-text">Simzoo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../simzoo/simzoo.html">Simzoo</a></li>
</ul>
<p class="caption"><span class="caption-text">Utilities Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../utils/logger.html">Logger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../utils/plotter.html">Plotter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../utils/mpi.html">MPI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../utils/run_utils.html">Run Utils</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Zone</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev/api/api.html">Code API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/release_dev.html">Release package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/doc_dev.html">Release documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Etc.</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../etc/remarks.html">Remarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../etc/acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../etc/author.html">About the Author</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Machine Learning Control</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Benchmarks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/control/bench/bench.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="benchmarks">
<h1><a class="toc-backref" href="#id12">Benchmarks</a><a class="headerlink" href="#benchmarks" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#benchmarks" id="id12">Benchmarks</a><ul>
<li><a class="reference internal" href="#performance-in-each-environment" id="id13">Performance in Each Environment</a><ul>
<li><a class="reference internal" href="#mujoco-environments" id="id14">Mujoco Environments</a><ul>
<li><a class="reference internal" href="#halfcheetah-pytorch-versions" id="id15">HalfCheetah: PyTorch Versions</a></li>
<li><a class="reference internal" href="#halfcheetah-tensorflow-versions" id="id16">HalfCheetah: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#hopper-pytorch-versions" id="id17">Hopper: PyTorch Versions</a></li>
<li><a class="reference internal" href="#hopper-tensorflow-versions" id="id18">Hopper: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#walker2d-pytorch-versions" id="id19">Walker2d: PyTorch Versions</a></li>
<li><a class="reference internal" href="#walker2d-tensorflow-versions" id="id20">Walker2d: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#swimmer-pytorch-versions" id="id21">Swimmer: PyTorch Versions</a></li>
<li><a class="reference internal" href="#swimmer-tensorflow-versions" id="id22">Swimmer: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#ant-pytorch-versions" id="id23">Ant: PyTorch Versions</a></li>
<li><a class="reference internal" href="#ant-tensorflow-versions" id="id24">Ant: Tensorflow Versions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simzoo-environments" id="id25">Simzoo Environments</a><ul>
<li><a class="reference internal" href="#oscillator-tensorflow-versions" id="id26">Oscillator: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#id1" id="id27">Oscillator: Tensorflow Versions</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#experiment-details" id="id28">Experiment Details</a></li>
<li><a class="reference internal" href="#pytorch-vs-tensorflow" id="id29">PyTorch vs Tensorflow</a></li>
</ul>
</li>
</ul>
</div>
<p>We benchmarked the Machine Learning Control algorithm implementations in five environments
from the <a class="reference external" href="https://gym.openai.com/envs/#mujoco">MuJoCo</a> Gym task suite: HalfCheetah, Hopper, Walker2d, Swimmer, and Ant and two
environments from the <a class="reference external" href="../simzoo/simzoo.html">simzoo</a> gym environments: Oscillator-v1 and Ex3_EKF.</p>
<div class="section" id="performance-in-each-environment">
<h2><a class="toc-backref" href="#id13">Performance in Each Environment</a><a class="headerlink" href="#performance-in-each-environment" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mujoco-environments">
<h3><a class="toc-backref" href="#id14">Mujoco Environments</a><a class="headerlink" href="#mujoco-environments" title="Permalink to this headline">¶</a></h3>
<div class="section" id="halfcheetah-pytorch-versions">
<h4><a class="toc-backref" href="#id15">HalfCheetah: PyTorch Versions</a><a class="headerlink" href="#halfcheetah-pytorch-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id2">
<img alt="../../_images/pytorch_halfcheetah_performance.svg" src="../../_images/pytorch_halfcheetah_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for HalfCheetah-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="halfcheetah-tensorflow-versions">
<h4><a class="toc-backref" href="#id16">HalfCheetah: Tensorflow Versions</a><a class="headerlink" href="#halfcheetah-tensorflow-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id3">
<img alt="../../_images/tensorflow_halfcheetah_performance.svg" src="../../_images/tensorflow_halfcheetah_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for HalfCheetah-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="hopper-pytorch-versions">
<h4><a class="toc-backref" href="#id17">Hopper: PyTorch Versions</a><a class="headerlink" href="#hopper-pytorch-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id4">
<img alt="../../_images/pytorch_hopper_performance.svg" src="../../_images/pytorch_hopper_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Hopper-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="hopper-tensorflow-versions">
<h4><a class="toc-backref" href="#id18">Hopper: Tensorflow Versions</a><a class="headerlink" href="#hopper-tensorflow-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id5">
<img alt="../../_images/tensorflow_hopper_performance.svg" src="../../_images/tensorflow_hopper_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Hopper-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-3">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="walker2d-pytorch-versions">
<h4><a class="toc-backref" href="#id19">Walker2d: PyTorch Versions</a><a class="headerlink" href="#walker2d-pytorch-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id6">
<img alt="../../_images/pytorch_walker2d_performance.svg" src="../../_images/pytorch_walker2d_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Walker2d-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-4">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="walker2d-tensorflow-versions">
<h4><a class="toc-backref" href="#id20">Walker2d: Tensorflow Versions</a><a class="headerlink" href="#walker2d-tensorflow-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id7">
<img alt="../../_images/tensorflow_walker2d_performance.svg" src="../../_images/tensorflow_walker2d_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Walker2d-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-5">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="swimmer-pytorch-versions">
<h4><a class="toc-backref" href="#id21">Swimmer: PyTorch Versions</a><a class="headerlink" href="#swimmer-pytorch-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id8">
<img alt="../../_images/pytorch_swimmer_performance.svg" src="../../_images/pytorch_swimmer_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Swimmer-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-6">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="swimmer-tensorflow-versions">
<h4><a class="toc-backref" href="#id22">Swimmer: Tensorflow Versions</a><a class="headerlink" href="#swimmer-tensorflow-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id9">
<img alt="../../_images/tensorflow_swimmer_performance.svg" src="../../_images/tensorflow_swimmer_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Swimmer-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-7">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="ant-pytorch-versions">
<h4><a class="toc-backref" href="#id23">Ant: PyTorch Versions</a><a class="headerlink" href="#ant-pytorch-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id10">
<img alt="../../_images/pytorch_ant_performance.svg" src="../../_images/pytorch_ant_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Ant-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-8">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="ant-tensorflow-versions">
<h4><a class="toc-backref" href="#id24">Ant: Tensorflow Versions</a><a class="headerlink" href="#ant-tensorflow-versions" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id11">
<img alt="../../_images/tensorflow_ant_performance.svg" src="../../_images/tensorflow_ant_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Ant-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
<div class="admonition-todo admonition" id="index-9">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
</div>
<div class="section" id="simzoo-environments">
<h3><a class="toc-backref" href="#id25">Simzoo Environments</a><a class="headerlink" href="#simzoo-environments" title="Permalink to this headline">¶</a></h3>
<div class="section" id="oscillator-tensorflow-versions">
<h4><a class="toc-backref" href="#id26">Oscillator: Tensorflow Versions</a><a class="headerlink" href="#oscillator-tensorflow-versions" title="Permalink to this headline">¶</a></h4>
<div class="admonition-todo admonition" id="index-10">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
<div class="section" id="id1">
<h4><a class="toc-backref" href="#id27">Oscillator: Tensorflow Versions</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<div class="admonition-todo admonition" id="index-11">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
</div>
</div>
<div class="section" id="experiment-details">
<h2><a class="toc-backref" href="#id28">Experiment Details</a><a class="headerlink" href="#experiment-details" title="Permalink to this headline">¶</a></h2>
<p><strong>Random seeds.</strong> All experiments were run for 10 random seeds each. Graphs show the average (solid line) and std dev (shaded) of performance over random seed over the course of training.</p>
<p><strong>Performance metric.</strong> Performance for the on-policy algorithms is measured as the average trajectory return across the batch collected at each epoch. Performance for the off-policy algorithms is measured once every 10,000 steps by running the deterministic policy (or, in the case of SAC, the mean policy) without action noise for ten trajectories, and reporting the average return over those test trajectories.</p>
<p><strong>Network architectures.</strong> The on-policy algorithms use networks of size (64, 32) with tanh units for both the policy and the value function. The off-policy algorithms use networks of size (256, 256) with relu units.</p>
<p><strong>Batch size.</strong> The on-policy algorithms collected 4000 steps of agent-environment interaction per batch update. The off-policy algorithms used mini-batches of size 100 at each gradient descent step.</p>
<p>All other hyperparameters are left at default settings for the Machine Learning Control implementations. See algorithm pages for details.</p>
<p>Learning curves are smoothed by averaging over a window of 11 epochs.</p>
<div class="admonition-you-should-know admonition">
<p class="first admonition-title">You Should Know</p>
<p class="last">By comparison to the literature, the Machine Learning Control implementations of DDPG, TD3, and SAC are roughly at-parity with the best reported results for these algorithms. As a result, you can use the Machine Learning Control implementations of these algorithms for research purposes.</p>
</div>
</div>
<div class="section" id="pytorch-vs-tensorflow">
<h2><a class="toc-backref" href="#id29">PyTorch vs Tensorflow</a><a class="headerlink" href="#pytorch-vs-tensorflow" title="Permalink to this headline">¶</a></h2>
<p>We provide graphs for head-to-head comparisons between the PyTorch and Tensorflow implementations of each algorithm at the following pages:</p>
<ul class="simple">
<li><a class="reference external" href="./bench_sac.html">SAC Head-to-Head</a></li>
<li><a class="reference external" href="./bench_sac.html">LAC Head-to-Head</a></li>
</ul>
<div class="admonition-todo admonition" id="index-12">
<p class="first admonition-title">Todo</p>
<p class="last">Replace with our own benchmark.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../hardware/hardware.html" class="btn btn-neutral float-right" title="Hardware" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../plotting.html" class="btn btn-neutral float-left" title="Plotting Results" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Rick Staa

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>