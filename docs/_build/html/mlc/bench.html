

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Benchmarks for Spinning Up Implementations &mdash; Machine Learning Control 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/modify.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Control</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../control/control.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../control/running.html">Running Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../control/saving_and_loading.html">Experiment Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../control/plotting.html">Plotting Results</a></li>
</ul>
<p class="caption"><span class="caption-text">Hardware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hardware/hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/supported.html">Supported hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/deploy.html">Deploy</a></li>
</ul>
<p class="caption"><span class="caption-text">Utilities Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../utils/logger.html">Logger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/plotter.html">Plotter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/mpi.html">MPI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/run_utils.html">Run Utils</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Zone</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/release_dev.html">Release package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/doc_dev.html">Release documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Etc.</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../etc/acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../etc/author.html">About the Author</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Machine Learning Control</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Benchmarks for Spinning Up Implementations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/mlc/bench.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="benchmarks-for-spinning-up-implementations">
<h1><a class="toc-backref" href="#id11">Benchmarks for Spinning Up Implementations</a><a class="headerlink" href="#benchmarks-for-spinning-up-implementations" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#benchmarks-for-spinning-up-implementations" id="id11">Benchmarks for Spinning Up Implementations</a><ul>
<li><a class="reference internal" href="#performance-in-each-environment" id="id12">Performance in Each Environment</a><ul>
<li><a class="reference internal" href="#halfcheetah-pytorch-versions" id="id13">HalfCheetah: PyTorch Versions</a></li>
<li><a class="reference internal" href="#halfcheetah-tensorflow-versions" id="id14">HalfCheetah: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#hopper-pytorch-versions" id="id15">Hopper: PyTorch Versions</a></li>
<li><a class="reference internal" href="#hopper-tensorflow-versions" id="id16">Hopper: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#walker2d-pytorch-versions" id="id17">Walker2d: PyTorch Versions</a></li>
<li><a class="reference internal" href="#walker2d-tensorflow-versions" id="id18">Walker2d: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#swimmer-pytorch-versions" id="id19">Swimmer: PyTorch Versions</a></li>
<li><a class="reference internal" href="#swimmer-tensorflow-versions" id="id20">Swimmer: Tensorflow Versions</a></li>
<li><a class="reference internal" href="#ant-pytorch-versions" id="id21">Ant: PyTorch Versions</a></li>
<li><a class="reference internal" href="#ant-tensorflow-versions" id="id22">Ant: Tensorflow Versions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#experiment-details" id="id23">Experiment Details</a></li>
<li><a class="reference internal" href="#pytorch-vs-tensorflow" id="id24">PyTorch vs Tensorflow</a></li>
</ul>
</li>
</ul>
</div>
<p>We benchmarked the Spinning Up algorithm implementations in five environments from the <a class="reference external" href="https://gym.openai.com/envs/#mujoco">MuJoCo</a> Gym task suite: HalfCheetah, Hopper, Walker2d, Swimmer, and Ant.</p>
<div class="section" id="performance-in-each-environment">
<h2><a class="toc-backref" href="#id12">Performance in Each Environment</a><a class="headerlink" href="#performance-in-each-environment" title="Permalink to this headline">¶</a></h2>
<div class="section" id="halfcheetah-pytorch-versions">
<h3><a class="toc-backref" href="#id13">HalfCheetah: PyTorch Versions</a><a class="headerlink" href="#halfcheetah-pytorch-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id1">
<img alt="../_images/pytorch_halfcheetah_performance.svg" src="../_images/pytorch_halfcheetah_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for HalfCheetah-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="halfcheetah-tensorflow-versions">
<h3><a class="toc-backref" href="#id14">HalfCheetah: Tensorflow Versions</a><a class="headerlink" href="#halfcheetah-tensorflow-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id2">
<img alt="../_images/tensorflow_halfcheetah_performance.svg" src="../_images/tensorflow_halfcheetah_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for HalfCheetah-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="hopper-pytorch-versions">
<h3><a class="toc-backref" href="#id15">Hopper: PyTorch Versions</a><a class="headerlink" href="#hopper-pytorch-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id3">
<img alt="../_images/pytorch_hopper_performance.svg" src="../_images/pytorch_hopper_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Hopper-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="hopper-tensorflow-versions">
<h3><a class="toc-backref" href="#id16">Hopper: Tensorflow Versions</a><a class="headerlink" href="#hopper-tensorflow-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id4">
<img alt="../_images/tensorflow_hopper_performance.svg" src="../_images/tensorflow_hopper_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Hopper-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="walker2d-pytorch-versions">
<h3><a class="toc-backref" href="#id17">Walker2d: PyTorch Versions</a><a class="headerlink" href="#walker2d-pytorch-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id5">
<img alt="../_images/pytorch_walker2d_performance.svg" src="../_images/pytorch_walker2d_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Walker2d-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="walker2d-tensorflow-versions">
<h3><a class="toc-backref" href="#id18">Walker2d: Tensorflow Versions</a><a class="headerlink" href="#walker2d-tensorflow-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id6">
<img alt="../_images/tensorflow_walker2d_performance.svg" src="../_images/tensorflow_walker2d_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Walker2d-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="swimmer-pytorch-versions">
<h3><a class="toc-backref" href="#id19">Swimmer: PyTorch Versions</a><a class="headerlink" href="#swimmer-pytorch-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id7">
<img alt="../_images/pytorch_swimmer_performance.svg" src="../_images/pytorch_swimmer_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Swimmer-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="swimmer-tensorflow-versions">
<h3><a class="toc-backref" href="#id20">Swimmer: Tensorflow Versions</a><a class="headerlink" href="#swimmer-tensorflow-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id8">
<img alt="../_images/tensorflow_swimmer_performance.svg" src="../_images/tensorflow_swimmer_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Swimmer-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="ant-pytorch-versions">
<h3><a class="toc-backref" href="#id21">Ant: PyTorch Versions</a><a class="headerlink" href="#ant-pytorch-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id9">
<img alt="../_images/pytorch_ant_performance.svg" src="../_images/pytorch_ant_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Ant-v3 using <strong>PyTorch</strong> implementations.</span></p>
</div>
</div>
<div class="section" id="ant-tensorflow-versions">
<h3><a class="toc-backref" href="#id22">Ant: Tensorflow Versions</a><a class="headerlink" href="#ant-tensorflow-versions" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id10">
<img alt="../_images/tensorflow_ant_performance.svg" src="../_images/tensorflow_ant_performance.svg" /><p class="caption"><span class="caption-text">3M timestep benchmark for Ant-v3 using <strong>Tensorflow</strong> implementations.</span></p>
</div>
</div>
</div>
<div class="section" id="experiment-details">
<h2><a class="toc-backref" href="#id23">Experiment Details</a><a class="headerlink" href="#experiment-details" title="Permalink to this headline">¶</a></h2>
<p><strong>Random seeds.</strong> All experiments were run for 10 random seeds each. Graphs show the average (solid line) and std dev (shaded) of performance over random seed over the course of training.</p>
<p><strong>Performance metric.</strong> Performance for the on-policy algorithms is measured as the average trajectory return across the batch collected at each epoch. Performance for the off-policy algorithms is measured once every 10,000 steps by running the deterministic policy (or, in the case of SAC, the mean policy) without action noise for ten trajectories, and reporting the average return over those test trajectories.</p>
<p><strong>Network architectures.</strong> The on-policy algorithms use networks of size (64, 32) with tanh units for both the policy and the value function. The off-policy algorithms use networks of size (256, 256) with relu units.</p>
<p><strong>Batch size.</strong> The on-policy algorithms collected 4000 steps of agent-environment interaction per batch update. The off-policy algorithms used minibatches of size 100 at each gradient descent step.</p>
<p>All other hyperparameters are left at default settings for the Spinning Up implementations. See algorithm pages for details.</p>
<p>Learning curves are smoothed by averaging over a window of 11 epochs.</p>
<div class="admonition-you-should-know admonition">
<p class="first admonition-title">You Should Know</p>
<p>By comparison to the literature, the Spinning Up implementations of DDPG, TD3, and SAC are roughly at-parity with the best reported results for these algorithms. As a result, you can use the Spinning Up implementations of these algorithms for research purposes.</p>
<p class="last">The Spinning Up implementations of VPG, TRPO, and PPO are overall a bit weaker than the best reported results for these algorithms. This is due to the absence of some standard tricks (such as observation normalization and normalised value regression targets) from our implementations. For research comparisons, you should use the implementations of TRPO or PPO from <a class="reference external" href="https://github.com/openai/baselines">OpenAI Baselines</a>.</p>
</div>
</div>
<div class="section" id="pytorch-vs-tensorflow">
<h2><a class="toc-backref" href="#id24">PyTorch vs Tensorflow</a><a class="headerlink" href="#pytorch-vs-tensorflow" title="Permalink to this headline">¶</a></h2>
<p>We provide graphs for head-to-head comparisons between the PyTorch and Tensorflow implementations of each algorithm at the following pages:</p>
<ul class="simple">
<li><a class="reference external" href="../spinningup/bench_vpg.html">VPG Head-to-Head</a></li>
<li><a class="reference external" href="../spinningup/bench_ppo.html">PPO Head-to-Head</a></li>
<li><a class="reference external" href="../spinningup/bench_ddpg.html">DDPG Head-to-Head</a></li>
<li><a class="reference external" href="../spinningup/bench_td3.html">TD3 Head-to-Head</a></li>
<li><a class="reference external" href="../spinningup/bench_sac.html">SAC Head-to-Head</a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Rick Staa

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>