<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Use with Docker &mdash; stable-learning-control 6.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/css/modify.css?v=519ed47b" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=9497d378"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Available Agents" href="algorithms.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Use with Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-docker-image">Building the Docker Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-experiments">Running Experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-experiments">Visualizing Experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-other-utilities">Running Other Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vscode-dev-container">VSCode Dev Container</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Available Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="hyperparameter_tuning.html">Hyperparameter Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="saving_and_loading.html">Experiment Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="eval_robustness.html">Evaluating Robustness</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Benchmarks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../utils/loggers.html">Loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/mpi.html">MPI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/run_utils.html">Run Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/plotter.html">Plotter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/testers.html">Policy testers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/contributing.html">Contribute to stable-learning-control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/doc_dev.html">Build the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/license.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Etc.</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../etc/acknowledgements.html">Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">stable-learning-control</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Use with Docker</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/rickstaa/stable-learning-control/blob/main/docs/source/usage/docker.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="use-with-docker">
<h1>Use with Docker<a class="headerlink" href="#use-with-docker" title="Permalink to this heading"></a></h1>
<p>The SLC package is designed to be fully compatible with <a class="reference external" href="https://docs.docker.com/get-docker/">Docker</a>, offering an improved experience in terms of reproducibility and ease of use. This document outlines the steps required to build the Docker image and run containers within the SLC package for various experiments and utilities.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading"></a></h2>
<p>Before you can run the SLC package in <a class="reference external" href="https://docs.docker.com/get-docker/">Docker</a>, you must have Docker installed and running on your machine. Visit the <a class="reference external" href="https://docs.docker.com/get-docker/">Docker website</a> to download and install Docker for your specific operating system.</p>
</section>
<section id="building-the-docker-image">
<h2>Building the Docker Image<a class="headerlink" href="#building-the-docker-image" title="Permalink to this heading"></a></h2>
<p>First, ensure the Dockerfile is located at the root of the repository. The Dockerfile should contain the instructions to set up the environment for the SLC package. To build the Docker image, execute the following command in your terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>slc<span class="w"> </span>.
</pre></div>
</div>
<p>This command builds a Docker image tagged as <cite>slc</cite> based on the instructions in the Dockerfile.</p>
</section>
<section id="running-experiments">
<h2>Running Experiments<a class="headerlink" href="#running-experiments" title="Permalink to this heading"></a></h2>
<p>Once the image is successfully built, you can run experiments using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-t<span class="w"> </span>-v<span class="w"> </span>/path/to/experiments:/stable-learning-control/experiments<span class="w"> </span>-v<span class="w"> </span>/path/to/data:/stable-learning-control/data<span class="w"> </span>slc<span class="w"> </span>sac<span class="w"> </span>--env<span class="w"> </span>Walker2d-v4<span class="w"> </span>--exp_name<span class="w"> </span>walker
</pre></div>
</div>
<p>Ensure to substitute <code class="docutils literal notranslate"><span class="pre">/path/to/experiments</span></code> and <code class="docutils literal notranslate"><span class="pre">/path/to/data</span></code> with the precise paths on your host machine where the experiment configuration files are situated and where you intend to store the data. This process mounts the designated directories inside the container, enabling the experiment to execute seamlessly as if it were on the host machine. For more information on running experiments, refer to the <a class="reference internal" href="running.html#running-experiments"><span class="std std-ref">Running Experiments</span></a> section.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also use relative paths to mount directories. However, please ensure to prefix them with the relative path prefix <code class="docutils literal notranslate"><span class="pre">./</span></code>. If this prefix is not used, Docker will interpret the path as a volume name and create a <a class="reference external" href="https://docs.docker.com/storage/volumes/">Docker volume</a> with that name, which will then be mounted to the container.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>By default, the’ root’ user owns the <code class="docutils literal notranslate"><span class="pre">data</span></code> folder created within the Docker container. Suppose you want to access the data from the host machine. In that case, you can change the ownership of the <code class="docutils literal notranslate"><span class="pre">data</span></code> folder to your user by running the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span><span class="nv">$USER</span>:<span class="nv">$USER</span><span class="w"> </span>/path/to/data
</pre></div>
</div>
</div>
</section>
<section id="visualizing-experiments">
<h2>Visualizing Experiments<a class="headerlink" href="#visualizing-experiments" title="Permalink to this heading"></a></h2>
<p>For experiments requiring visualization, you can forward the display to your host machine using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-t<span class="w"> </span>-e<span class="w"> </span><span class="nv">DISPLAY</span><span class="o">=</span><span class="nv">$DISPLAY</span><span class="w"> </span>-v<span class="w"> </span>/tmp/.X11-unix:/tmp/.X11-unix:ro<span class="w"> </span>-v<span class="w"> </span>/path/to/experiments:/stable-learning-control/experiments<span class="w"> </span>-v<span class="w"> </span>/path/to/data:/stable-learning-control/data<span class="w"> </span>slc<span class="w"> </span>sac<span class="w"> </span>--env<span class="w"> </span>Walker2d-v4<span class="w"> </span>--exp_name<span class="w"> </span>walker
</pre></div>
</div>
<p>This command configures the container to use the host machine’s display for graphical output. It’s essential on some systems to allow Docker containers to access the X server with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xhost<span class="w"> </span>+local:docker
</pre></div>
</div>
<p>Please note that this command lowers the security of your system by allowing local connections from any Docker container to the X server. To revert this change, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xhost<span class="w"> </span>-local:<span class="w"> </span>Docker
</pre></div>
</div>
</section>
<section id="running-other-utilities">
<h2>Running Other Utilities<a class="headerlink" href="#running-other-utilities" title="Permalink to this heading"></a></h2>
<p>The SLC package includes additional utilities such as <a class="reference internal" href="plotting.html#plotting"><span class="std std-ref">plotting</span></a>, <a class="reference internal" href="saving_and_loading.html#policy-test"><span class="std std-ref">policy testing</span></a> and <a class="reference internal" href="eval_robustness.html#robustness-eval"><span class="std std-ref">robustness evaluation</span></a> tools. These can be run in a Docker container similar to the experiments. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-v<span class="w"> </span>/path/to/utility_files:/utility_files<span class="w"> </span>slc<span class="w"> </span>&lt;utility_command&gt;
</pre></div>
</div>
<p>Replace <code class="docutils literal notranslate"><span class="pre">&lt;utility_command&gt;</span></code> with the actual command you would use to run the utility, ensuring the paths are correctly mounted to provide the necessary files to the container.</p>
</section>
<section id="vscode-dev-container">
<h2>VSCode Dev Container<a class="headerlink" href="#vscode-dev-container" title="Permalink to this heading"></a></h2>
<p>The SLC package also includes a <a class="reference external" href="https://code.visualstudio.com/docs/devcontainers/containers">VSCode Dev Container</a> configuration to simplify the development process. This configuration sets up a Docker container with all the necessary dependencies and extensions to develop the SLC package. For more information on how to use the VSCode Dev Container see the <a class="reference external" href="https://code.visualstudio.com/docs/devcontainers/containers">VSCode Dev Container documentation</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="algorithms.html" class="btn btn-neutral float-right" title="Available Agents" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Rick Staa.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>