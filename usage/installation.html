<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; stable-learning-control 6.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/css/modify.css?v=519ed47b" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=9497d378"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Use with Docker" href="docker.html" />
    <link rel="prev" title="Welcome to Stable Learning Control documentation" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-system-dependencies">Install system dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-python">Installing Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-stable-learning-control">Installing Stable Learning Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#install-the-pytorch-version">Install the Pytorch version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-the-tensorflow-version">Install the TensorFlow version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installing-gymnasium-environments">Installing gymnasium environments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Use with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Available Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="hyperparameter_tuning.html">Hyperparameter Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="saving_and_loading.html">Experiment Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting.html">Plotting Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="eval_robustness.html">Evaluating Robustness</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmarks.html">Benchmarks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../utils/loggers.html">Loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/mpi.html">MPI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/run_utils.html">Run Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/plotter.html">Plotter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/testers.html">Policy testers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/contributing.html">Contribute to stable-learning-control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/doc_dev.html">Build the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/license.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Etc.</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../etc/acknowledgements.html">Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">stable-learning-control</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/rickstaa/stable-learning-control/blob/main/docs/source/usage/installation.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">Installation</a><a class="headerlink" href="#installation" title="Permalink to this heading"></a></h1>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#installation" id="id1">Installation</a></p>
<ul>
<li><p><a class="reference internal" href="#install-system-dependencies" id="id2">Install system dependencies</a></p></li>
<li><p><a class="reference internal" href="#installing-python" id="id3">Installing Python</a></p></li>
<li><p><a class="reference internal" href="#installing-stable-learning-control" id="id4">Installing Stable Learning Control</a></p>
<ul>
<li><p><a class="reference internal" href="#install-the-pytorch-version" id="id5">Install the Pytorch version</a></p></li>
<li><p><a class="reference internal" href="#install-the-tensorflow-version" id="id6">Install the TensorFlow version</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#installing-gymnasium-environments" id="id7">Installing gymnasium environments</a></p></li>
</ul>
</li>
</ul>
</nav>
<p>The SLC framework requires several system and <a class="reference external" href="https://docs.python.org/3/">Python</a> dependencies to work.
In this section, we will explain how to install these dependencies. The package was only
tested on Ubuntu but should also work on other Linux distributions and Macs. Installing
the package on Windows may be possible, but this still needs to be tested.</p>
<section id="install-system-dependencies">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Install system dependencies</a><a class="headerlink" href="#install-system-dependencies" title="Permalink to this heading"></a></h2>
<p>The SLC package uses <a class="reference external" href="https://mpi4py.readthedocs.io/en/stable/">mpi4py</a> to distribute training over multiple CPUs. To work, a
Message Passing Library should be on your system. The <a class="reference external" href="https://www.open-mpi.org/">Open MPI</a> library can be used
for Mac and Linux systems. On Linux, this library can be installed using the following
command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libopenmpi-dev
</pre></div>
</div>
<p>For mac this command can be used:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>openmpi
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference external" href="https://learn.microsoft.com/en-us/message-passing-interface/microsoft-mpi">Microsoft MPI</a> package can be used for Windows.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The MPI functionality is not yet fully implemented for the SLC algorithms. As a result,
the MPI library is not yet required to run the SLC package. However, it is still
recommended to install the MPI library as it will be required in the future.</p>
</div>
</section>
<section id="installing-python">
<span id="install"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Installing Python</a><a class="headerlink" href="#installing-python" title="Permalink to this heading"></a></h2>
<p>We recommend installing <a class="reference external" href="https://docs.python.org/3/">Python</a> through Anaconda. Anaconda is a library that
includes Python and many valuable packages for Python, as well as an environment manager
called Conda that simplifies package management. Download and install Anaconda3 (at the
time of writing, <a class="reference external" href="https://repo.anaconda.com/archive/">Anaconda3-5.3.1</a>) according to the <a class="reference external" href="https://docs.continuum.io/free/anaconda/install/">Anaconda documentation</a>. Then
create a Conda Python env for organizing packages used in the SLC package:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>slc<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.10
</pre></div>
</div>
<p>To use Python from the environment you just created, activate the environment with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>slc
</pre></div>
</div>
<p>Alternatively, you can use Python’s <a class="reference external" href="https://docs.python.org/3/library/venv.html">venv</a> package to create a virtual environment.</p>
<div class="admonition-you-should-know admonition">
<p class="admonition-title">You Should Know</p>
<p>If you’re new to Python environments and package management, this stuff can quickly
get confusing or overwhelming, and you’ll probably hit some snags along the way. Especially,
you should expect problems like, <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">just</span> <span class="pre">installed</span> <span class="pre">this</span> <span class="pre">thing,</span> <span class="pre">but</span> <span class="pre">it</span> <span class="pre">says</span> <span class="pre">it's</span> <span class="pre">not</span> <span class="pre">found</span>
<span class="pre">when</span> <span class="pre">I</span> <span class="pre">try</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">it!</span></code>. You can read through some clear explanations about package
management, why it’s a good idea, and what commands you’ll typically have to execute
to use it correctly. <a class="reference external" href="https://www.freecodecamp.org/news/why-you-need-python-environments-and-how-to-manage-them-with-conda-85f155f4353c">FreeCodeCamp</a> has a good explanation worth reading. There’s a
shorter description of <a class="reference external" href="https://towardsdatascience.com/environment-management-with-conda-python-2-3-b9961a8a5097">Towards Data Science</a> which is also helpful and informative.
Finally, if you’re incredibly patient, you may want to read the
(dry but very informative) <a class="reference external" href="https://conda.io/docs/user-guide/tasks/manage-environments.html">documentation page from Conda</a>.</p>
</div>
</section>
<section id="installing-stable-learning-control">
<span id="install-slc"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">Installing Stable Learning Control</a><a class="headerlink" href="#installing-stable-learning-control" title="Permalink to this heading"></a></h2>
<p>After you successfully setup your python environment, you can install the SLC package and its dependencies in
this environment. The SLC has two versions you can install:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">torch</span></code>: A version which uses <a class="reference external" href="https://pytorch.org/">Pytorch</a> as the backend of the RL algorithms.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tf2</span></code>: A <strong>experimental</strong> version which uses <a class="reference external" href="https://www.tensorflow.org/">TensorFlow 2.0</a> as the backend
of the RL algorithms.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We choose PyTorch as the default backend as it is easier to work with than TensorFlow. However, at the
time of writing, it is slightly slower than the TensorFlow backend. This is caused because the agents
used in the SLC package use components not yet supported by <a class="reference external" href="https://pytorch.org/docs/stable/jit.html">TorchScript</a>
(responsible for creating a fast compiled version of PyTorch script). As PyTorch has shown to be faster
in most implementations, this will likely change in the future. You can track the status of this speed
problem <a class="reference external" href="https://github.com/pytorch/pytorch/issues/29843">here</a>.</p>
</div>
<section id="install-the-pytorch-version">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Install the Pytorch version</a><a class="headerlink" href="#install-the-pytorch-version" title="Permalink to this heading"></a></h3>
<p>We use the <a class="reference external" href="https://pip.pypa.io/en/stable/getting-started/">pip package manager</a> to install the SLC package and its dependencies. After you installed pip
you can install the SLC package using the following bash command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
<p>This command will install the SLC package with the <a class="reference external" href="https://pytorch.org/">Pytorch</a> backend in your Conda environment.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you are using Conda, you may come across issues while installing or utilizing the SLC package,
such as installation errors or script freezing. To effectively resolve these problems, it is
recommended to install the <a class="reference external" href="https://mpi4py.readthedocs.io/en/stable/">mpi4py</a> package from within Conda instead of using pip. This can
be accomplished by executing the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>mpi4py
</pre></div>
</div>
</div>
</section>
<section id="install-the-tensorflow-version">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Install the TensorFlow version</a><a class="headerlink" href="#install-the-tensorflow-version" title="Permalink to this heading"></a></h3>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>As stated above, the Pytorch version was used during our experiments. As a result, the
TensorFlow version is less well-tested than the Pytorch version and has limited support.
It should therefore be considered experimental, as no guarantees can be given about the
correctness of these algorithms.</p>
</div>
<p>If you still want to use the <a class="reference external" href="https://www.tensorflow.org/">TensorFlow 2.0</a> version, you can install the SLC
package with the the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="o">[</span>tf2<span class="o">]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you want to use the GPU version of TensorFlow, you must ensure you performed all
the steps described in the <a class="reference external" href="https://www.tensorflow.org/install/pip">TensorFlow installation guide</a>. It is also essential to
know that depending on the version of TensorFlow and PyTorch you use, you might have
to install different versions of <a class="reference external" href="https://developer.nvidia.com/cuda-toolkit">CUDA</a> and <a class="reference external" href="https://developer.nvidia.com/cudnn">cuDNN</a> (see <a class="reference external" href="https://www.tensorflow.org/install/source#gpu">the TensorFlow</a> and
<cite>Pytorch</cite> documentation). As a result, some combinations of TensorFlow and Pytorch
are not compatible with each other. You are therefore advised to create two separate
Conda environments, one for Pytorch and one for TensorFlow. Additionally, if you did
choose to use <a class="reference external" href="https://docs.python.org/3/library/venv.html">venv</a> instead of Conda, you must ensure the correct version of <a class="reference external" href="https://developer.nvidia.com/cuda-toolkit">CUDA</a>
and <a class="reference external" href="https://developer.nvidia.com/cudnn">cuDNN</a> are installed on your system.</p>
</div>
</section>
</section>
<section id="installing-gymnasium-environments">
<span id="gym-envs-install"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">Installing gymnasium environments</a><a class="headerlink" href="#installing-gymnasium-environments" title="Permalink to this heading"></a></h2>
<p>The algorithms in the SLC package are designed to work with any <a class="reference external" href="https://gymnasium.farama.org/api/env">gymnasium based environment</a>
with a continuous action space. However, stability and performance of stable RL algorithms like <a class="reference internal" href="algorithms/lac.html#lac"><span class="std std-ref">LAC</span></a> are
only guaranteed for environments with a positive definite cost function (i.e., environments where a cost is minimised).
As a result, even though the <code class="docutils literal notranslate"><span class="pre">opt_type</span></code> algorithm variable can be used to train on standard
<a class="reference external" href="https://gymnasium.farama.org/environments/classic_control">gymnasium</a> and <a class="reference external" href="https://gymnasium.farama.org/environments/mujoco">Mujoco</a> environments
in which the reward is maximised stability guarantees no longer hold. We, however, provide a set of custom
environments which are compatible with the stable algorithms:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/rickstaa/stable-gym/">stable-gym</a>: Several gymnasium environments with cost functions compatible with (stable)
RL agents (i.e. positive definite).</p></li>
<li><p><a class="reference external" href="https://github.com/rickstaa/ros-gazebo-gym/">ros-gazebo-gym packages</a>: A framework for training RL algorithms on ROS Gazebo
robots that can return positive definite cost functions (i.e. when <code class="docutils literal notranslate"><span class="pre">positive_reward</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p></li>
</ul>
<p>Please refer to the documentation of these packages for more information on installing
these environments. After you install these environments or any custom environment, you
can use them in the SLC package by specifying the module name of the environment in the
<a class="reference internal" href="running.html#env-flags"><span class="std std-ref">–env_name</span></a> argument of the SLC command line interface. For example, if you want to train
the <a class="reference internal" href="algorithms/lac.html#lac"><span class="std std-ref">LAC</span></a> algorithm on the <a class="reference external" href="https://rickstaa.dev/stable-gym/envs/classic_control/cartpole_cost.html">CartPoleCost-v1</a> environment of the
<a class="reference external" href="https://github.com/rickstaa/stable-gym/">stable-gym</a> package, you can use the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>stable_learning_control.run<span class="w"> </span>lac<span class="w"> </span>--env_name<span class="w"> </span>stable_gym:CartPoleCost-v1
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Welcome to Stable Learning Control documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="docker.html" class="btn btn-neutral float-right" title="Use with Docker" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Rick Staa.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>