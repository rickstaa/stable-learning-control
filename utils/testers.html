<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Policy testers &mdash; stable-learning-control 6.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="../_static/css/modify.css?v=519ed47b" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=9497d378"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contribute to stable-learning-control" href="../dev/contributing.html" />
    <link rel="prev" title="Plotter" href="plotter.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/docker.html">Use with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/algorithms.html">Available Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/running.html">Running Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/hyperparameter_tuning.html">Hyperparameter Tuning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/saving_and_loading.html">Experiment Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/plotting.html">Plotting Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/eval_robustness.html">Evaluating Robustness</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/benchmarks.html">Benchmarks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utilities</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="loggers.html">Loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpi.html">MPI Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_utils.html">Run Utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotter.html">Plotter</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Policy testers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#policy-eval-utility">Policy eval utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="#robustness-eval-utility">Robustness eval utility</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/contributing.html">Contribute to stable-learning-control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/doc_dev.html">Build the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/license.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Etc.</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../etc/acknowledgements.html">Acknowledgements</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">stable-learning-control</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Policy testers</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/rickstaa/stable-learning-control/blob/main/docs/source/utils/testers.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="policy-testers">
<span id="testers"></span><h1>Policy testers<a class="headerlink" href="#policy-testers" title="Permalink to this heading"></a></h1>
<section id="policy-eval-utility">
<span id="test-policy"></span><h2>Policy eval utility<a class="headerlink" href="#policy-eval-utility" title="Permalink to this heading"></a></h2>
<p>SLC ships with an evaluation utility that can be used to check a trained policy’s performance. In cases where the environment
is successfully saved alongside the agent, it’s a cinch to watch the trained agent act in the environment using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">stable_learning_control</span><span class="o">.</span><span class="n">run</span> <span class="n">test_policy</span> <span class="p">[</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">output_directory</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="nb">len</span> <span class="n">LEN</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">episodes</span> <span class="n">EPISODES</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">norender</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">itr</span> <span class="n">ITR</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">deterministic</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Positional Arguments:</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-output_dir">
<span class="sig-name descname"><span class="pre">output_dir</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-output_dir" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The path to the output directory where the agent and environment were saved.</p>
</dd></dl>

<p><strong>Optional Arguments:</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-l">
<span id="cmdoption-len"></span><span id="cmdoption-arg-default"></span><span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"> <span class="pre">L</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--len</span></span><span class="sig-prename descclassname"><span class="pre">=L</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=0</span></span><a class="headerlink" href="#cmdoption-l" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>. Maximum length of test episode/trajectory/rollout. The default of <code class="docutils literal notranslate"><span class="pre">0</span></code>
means no maximum episode length (i.e. episodes only end when the agent has reached a terminal state in the environment).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-n">
<span id="cmdoption-episodes"></span><span id="cmdoption-arg-0"></span><span class="sig-name descname"><span class="pre">-n</span></span><span class="sig-prename descclassname"> <span class="pre">N</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--episodes</span></span><span class="sig-prename descclassname"><span class="pre">=N</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=100</span></span><a class="headerlink" href="#cmdoption-n" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>. Number of test episodes to run the agent for.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-nr">
<span id="cmdoption-norender"></span><span id="cmdoption-arg-1"></span><span class="sig-name descname"><span class="pre">-nr</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--norender</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-nr" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Do not render the test episodes to the screen. In this case, <code class="docutils literal notranslate"><span class="pre">test_policy</span></code> will only print the episode returns and lengths. (Use case: the renderer
slows down the testing process, and you want to get a fast sense of how the agent is performing, so you don’t particularly care to watch it.)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-i">
<span id="cmdoption-itr"></span><span id="cmdoption-arg-2"></span><span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"> <span class="pre">I</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--itr</span></span><span class="sig-prename descclassname"><span class="pre">=I</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=-1</span></span><a class="headerlink" href="#cmdoption-i" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>. Specify the snapshot (checkpoint) for which you want to see the policy performance. Use case: Sometimes, it’s nice to watch trained agents from many
different training points (eg watch at iteration 50, 100, 150, etc.). The default value of this flag means “use the latest snapshot.”</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This option only works if snapshots were saved while training the agent (i.e. the <code class="docutils literal notranslate"><span class="pre">--save_checkpoints</span></code> flag was set). For more information on
storing these snapshots see <a class="reference internal" href="../usage/running.html#alg-flags"><span class="std std-ref">Algorithm Flags</span></a>.</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-d">
<span id="cmdoption-deterministic"></span><span id="cmdoption-arg-3"></span><span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--deterministic</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=True</span></span><a class="headerlink" href="#cmdoption-d" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Another special case, which is only used for the <a class="reference internal" href="../usage/algorithms/sac.html#sac"><span class="std std-ref">SAC</span></a> and <a class="reference internal" href="../usage/algorithms/lac.html#lac"><span class="std std-ref">LAC</span></a> algorithms. The SLC implementation trains a stochastic
policy, but is evaluated using the deterministic <em>mean</em> of the action distribution. <code class="docutils literal notranslate"><span class="pre">test_policy</span></code> will default to using the stochastic policy trained
by SAC, but you should set the deterministic flag to watch the deterministic mean policy (the correct evaluation policy for SAC). This flag is not used
for any other algorithms.</p>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>If you receive an “Environment not found” error, see <a class="reference internal" href="../usage/saving_and_loading.html#manual-policy-testing"><span class="std std-ref">Environment Not Found Error</span></a>.</p>
</div>
</section>
<section id="robustness-eval-utility">
<span id="eval-robustness"></span><h2>Robustness eval utility<a class="headerlink" href="#robustness-eval-utility" title="Permalink to this heading"></a></h2>
<p>SLC ships with an evaluation utility that can be used to check the robustness of the trained policy. In cases where the environment
is successfully saved alongside the agent, the robustness can be evaluated using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">stable_learning_control</span><span class="o">.</span><span class="n">run</span> <span class="n">eval_robustness</span> <span class="p">[</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">output_directory</span><span class="p">]</span> <span class="p">[</span><span class="n">disturber</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">list_disturbers</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">disturber_config</span> <span class="n">DISTURBER_CONFIG</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">data_dir</span> <span class="n">DATA_DIR</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">itr</span> <span class="n">ITR</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="nb">len</span> <span class="n">LEN</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">episodes</span> <span class="n">EPISODES</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">render</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">deterministic</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">disable_baseline</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">observations</span> <span class="p">[</span><span class="n">OBSERVATIONS</span> <span class="p">[</span><span class="n">OBSERVATIONS</span> <span class="o">...</span><span class="p">]]]</span> <span class="p">[</span><span class="o">--</span><span class="n">references</span> <span class="p">[</span><span class="n">REFERENCES</span> <span class="p">[</span><span class="n">REFERENCES</span> <span class="o">...</span><span class="p">]]]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">reference_errors</span> <span class="p">[</span><span class="n">REFERENCE_ERRORS</span> <span class="p">[</span><span class="n">REFERENCE_ERRORS</span> <span class="o">...</span><span class="p">]]]</span> <span class="p">[</span><span class="o">--</span><span class="n">absolute_reference_errors</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">merge_reference_errors</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">use_subplots</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">use_time</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">save_result</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">save_plots</span><span class="p">]</span>
    <span class="p">[</span><span class="o">--</span><span class="n">figs_fmt</span> <span class="n">FIGS_FMT</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">font_scale</span> <span class="n">FONT_SCALE</span><span class="p">]</span>
</pre></div>
</div>
<p><strong>Positional Arguments:</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-4">
<span class="sig-name descname"><span class="pre">output_dir</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-4" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The path to the output directory where the agent and environment were saved.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-disturber">
<span class="sig-name descname"><span class="pre">disturber</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-disturber" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The name of the disturber you want to evaluate. Can include an unloaded module in ‘module:disturber_name’ style.</p>
</dd></dl>

<p><strong>Optional Arguments:</strong></p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-list">
<span id="cmdoption-list_disturbers"></span><span id="cmdoption-arg-5"></span><span class="sig-name descname"><span class="pre">--list</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--list_disturbers</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-list" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Lists the available disturbers found in the SLC package.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-cfg">
<span id="cmdoption-disturber_config"></span><span id="cmdoption-arg-6"></span><span class="sig-name descname"><span class="pre">--cfg</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--disturber_config</span></span><span class="sig-prename descclassname"> <span class="pre">DISTURBER_CONFIG</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=None</span></span><a class="headerlink" href="#cmdoption-cfg" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The configuration you want to pass to the disturber. It sets up the range of disturbances you wish to evaluate. Expects a dictionary that depends on the specified disturber (e.g. <code class="docutils literal notranslate"><span class="pre">&quot;{'mean':</span> <span class="pre">[0.25,</span> <span class="pre">0.25],</span> <span class="pre">'std':</span> <span class="pre">[0.05,</span> <span class="pre">0.05]}&quot;</span></code> for <a class="reference internal" href="../autoapi/stable_learning_control/disturbers/index.html#stable_learning_control.disturbers.ObservationRandomNoiseDisturber" title="stable_learning_control.disturbers.ObservationRandomNoiseDisturber"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObservationRandomNoiseDisturber</span></code></a> disturber).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-data_dir">
<span class="sig-name descname"><span class="pre">--data_dir</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-data_dir" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The folder to which you want to store the robustness eval results, meaning the data frame and the plots.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-0">
<span id="cmdoption-1"></span><span id="cmdoption-arg-7"></span><span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"> <span class="pre">I</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--itr</span></span><span class="sig-prename descclassname"><span class="pre">=I</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=-1</span></span><a class="headerlink" href="#cmdoption-0" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>. Specify the snapshot (checkpoint) for which you want to see the policy performance. Use case: Sometimes, it’s nice to evaluate the robustness of the agent from many
different points in training (e.g. at iteration 50, 100, 150, etc.). The default value of <code class="docutils literal notranslate"><span class="pre">-1</span></code> means “use the latest snapshot.”</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This option only works if snapshots were saved while training the agent (i.e. the <code class="docutils literal notranslate"><span class="pre">--save_checkpoints</span></code> flag was set). For more information on
storing these snapshots, see <a class="reference internal" href="../usage/running.html#alg-flags"><span class="std std-ref">Algorithm Flags</span></a>.</p>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-2">
<span id="cmdoption-3"></span><span id="cmdoption-arg-8"></span><span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"> <span class="pre">L</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--len</span></span><span class="sig-prename descclassname"><span class="pre">=L</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=None</span></span><a class="headerlink" href="#cmdoption-2" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>. Maximum length of evaluation episode / trajectory / rollout. The default of <code class="docutils literal notranslate"><span class="pre">None</span></code> means no maximum episode length—episodes only end when the agent has
reached a terminal state in the environment.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-4">
<span id="cmdoption-5"></span><span id="cmdoption-arg-9"></span><span class="sig-name descname"><span class="pre">-n</span></span><span class="sig-prename descclassname"> <span class="pre">N</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--episodes</span></span><span class="sig-prename descclassname"><span class="pre">=N</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=100</span></span><a class="headerlink" href="#cmdoption-4" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>. Number of evaluation episodes to run for each disturbance variant.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-r">
<span id="cmdoption-render"></span><span id="cmdoption-arg-10"></span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--render</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-r" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Do also render the evaluation episodes to the screen.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-6">
<span id="cmdoption-7"></span><span id="cmdoption-arg-11"></span><span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--deterministic</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-6" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Another special case, which is only used for the <a class="reference internal" href="../usage/algorithms/sac.html#sac"><span class="std std-ref">SAC</span></a> and <a class="reference internal" href="../usage/algorithms/lac.html#lac"><span class="std std-ref">LAC</span></a> algorithms. The SLC implementation trains a stochastic
policy, but is evaluated using the deterministic <em>mean</em> of the action distribution. <code class="docutils literal notranslate"><span class="pre">test_policy</span></code> will default to using the stochastic policy trained
by SAC, but you should set the deterministic flag to watch the deterministic mean policy (the correct evaluation policy for SAC). This flag is not used
for any other algorithms.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-disable_baseline">
<span id="cmdoption-arg-12"></span><span class="sig-name descname"><span class="pre">--disable_baseline</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-disable_baseline" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Disable the baseline evaluation. The baseline evaluation is a special case where the agent is evaluated without any disturbance applied. This
is useful for comparing the performance of the agent with and without the disturbance.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-obs">
<span id="cmdoption-observations"></span><span id="cmdoption-arg-13"></span><span class="sig-name descname"><span class="pre">--obs</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--observations</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=None</span></span><a class="headerlink" href="#cmdoption-obs" title="Permalink to this definition"></a></dt>
<dd><p><em>:obj:`list of ints`</em>. The observations you want to show in the observations/reference plots. The default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> means all observations will be shown.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-refs">
<span id="cmdoption-references"></span><span id="cmdoption-arg-14"></span><span class="sig-name descname"><span class="pre">--refs</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--references</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=None</span></span><a class="headerlink" href="#cmdoption-refs" title="Permalink to this definition"></a></dt>
<dd><p><em>:obj:`list of ints`</em>. The references you want to show in the observations/reference plots. The default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> means all references will be shown.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ref_errs">
<span id="cmdoption-reference_errors"></span><span id="cmdoption-arg-15"></span><span class="sig-name descname"><span class="pre">--ref_errs</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--reference_errors</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=None</span></span><a class="headerlink" href="#cmdoption-ref_errs" title="Permalink to this definition"></a></dt>
<dd><p><em>:obj:`list of ints`</em>. The reference errors you want to show in the reference error plots. The default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> means all reference errors will be shown.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-abs_ref_errs">
<span id="cmdoption-absolute_reference_errors"></span><span id="cmdoption-arg-16"></span><span class="sig-name descname"><span class="pre">--abs_ref_errs</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--absolute_reference_errors</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-abs_ref_errs" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Whether you want to show the absolute reference errors in the reference error plots. The default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> means the relative reference errors will be shown.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-merge_ref_errs">
<span id="cmdoption-merge_reference_errors"></span><span id="cmdoption-arg-17"></span><span class="sig-name descname"><span class="pre">--merge_ref_errs</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--merge_reference_errors</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-merge_ref_errs" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Whether you want to merge the reference errors into one reference error. The default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> means the reference errors will be shown separately.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-use_subplots">
<span id="cmdoption-arg-18"></span><span class="sig-name descname"><span class="pre">--use_subplots</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-use_subplots" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Whether you want to use subplots for the plots. The default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> means the plots will be shown separately.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-use_time">
<span id="cmdoption-arg-19"></span><span class="sig-name descname"><span class="pre">--use_time</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-use_time" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Whether you want to use time as the x-axis for the plots. The default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> means the x-axis will show the steps.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-save_result">
<span id="cmdoption-arg-20"></span><span class="sig-name descname"><span class="pre">--save_result</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-save_result" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Whether you want to save the robustness evaluation data frame to disk. It can be useful for creating custom plots see <a class="reference internal" href="../usage/eval_robustness.html#robust-custom-plots"><span class="std std-ref">Create custom plots</span></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-save_plots">
<span id="cmdoption-arg-21"></span><span class="sig-name descname"><span class="pre">--save_plots</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-save_plots" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Specifies whether you want to save the generated plots to disk.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-figs_fmt">
<span id="cmdoption-arg-22"></span><span class="sig-name descname"><span class="pre">--figs_fmt</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=pdf</span></span><a class="headerlink" href="#cmdoption-figs_fmt" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. The file format you want to use for saving the plot.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-font_scale">
<span id="cmdoption-arg-23"></span><span class="sig-name descname"><span class="pre">--font_scale</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=1.5</span></span><a class="headerlink" href="#cmdoption-font_scale" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">float</span></code></a>. The font scale you want to use for the plot text.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-use_wandb">
<span id="cmdoption-arg-24"></span><span class="sig-name descname"><span class="pre">--use_wandb</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=False</span></span><a class="headerlink" href="#cmdoption-use_wandb" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>. Whether you want log the results to Weights &amp; Biases.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-wandb_job_type">
<span id="cmdoption-arg-25"></span><span class="sig-name descname"><span class="pre">--wandb_job_type</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=eval</span></span><a class="headerlink" href="#cmdoption-wandb_job_type" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The job type you want to use for the Weights &amp; Biases logging.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-wandb_project">
<span id="cmdoption-arg-26"></span><span class="sig-name descname"><span class="pre">--wandb_project</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=stable-learning-control</span></span><a class="headerlink" href="#cmdoption-wandb_project" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The name of the Weights &amp; Biases project you want to log to.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-wandb_group">
<span id="cmdoption-arg-27"></span><span class="sig-name descname"><span class="pre">--wandb_group</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=None</span></span><a class="headerlink" href="#cmdoption-wandb_group" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The name of the Weights &amp; Biases group you want to log to.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-wandb_run_name">
<span id="cmdoption-arg-28"></span><span class="sig-name descname"><span class="pre">--wandb_run_name</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">default</span></span><span class="sig-prename descclassname"><span class="pre">=None</span></span><a class="headerlink" href="#cmdoption-wandb_run_name" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>. The name of the Weights &amp; Biases run you want to log to. If not
specified, the run name will be automatically generated based on the policy
directory and disturber.</p>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>If you receive an “Environment not found” error, see <a class="reference internal" href="../usage/saving_and_loading.html#manual-policy-testing"><span class="std std-ref">Environment Not Found Error</span></a>.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plotter.html" class="btn btn-neutral float-left" title="Plotter" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../dev/contributing.html" class="btn btn-neutral float-right" title="Contribute to stable-learning-control" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Rick Staa.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>